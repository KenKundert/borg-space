# test all formats without key entries, such as size, create time
test_main:

    sprint:
        # runs without a config file
        args: home
        tmp_files:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    dealer:
        # runs without a config file
        args: home-primary
        tmp_files:
            .local/share/emborg/home-primary.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home-primary: 4.15 GiB

    remedy:
        # runs without a config file
        args: home@❬HOST❭~❬USER❭
        tmp_files:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB

    inequity:
        # runs without a config file
        args: home-primary@❬HOST❭~❬USER❭
        tmp_files:
            .local/share/emborg/home-primary.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home-primary@❬HOST❭~❬USER❭: 4.15 GiB

    loggia:
        # runs with an empty config file
        args: home
        tmp_files:
            .config/borg-space/settings.nt:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    cornice:
        # runs with default repository
        args:
        tmp_files:
            .config/borg-space/settings.nt:
                > default repository: home
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    scimitar:
        # error, empty repositories given
        args: home
        tmp_files:
            .config/borg-space/settings.nt:
                > repositories:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > bs error: /.*/.config/borg-space/settings.nt, repositories:
            >     expected key:value pair.
            >            1 ❬repositories:❭
            >                            ▲
        status: 1

    ministry:
        # error, repositories given as string
        args: home
        tmp_files:
            .config/borg-space/settings.nt:
                > repositories: home
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > bs error: /.*/.config/borg-space/settings.nt, repositories:
            >     expected key:value pair.
            >            1 ❬repositories: home❭
            >                             ▲
        status: 1

    gearbox:
        # error, repositories given as list
        args: home
        tmp_files:
            .config/borg-space/settings.nt:
                > repositories:
                >     - home
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > bs error: /.*/.config/borg-space/settings.nt, repositories:
            >     expected key:value pair.
            >            2 ❬    - home❭
            >                   ▲
        status: 1

    curdle:
        # runs with an simple repositories dictionary with no path
        args: home
        tmp_files:
            .config/borg-space/settings.nt:
                > repositories:
                >     home:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    escalate:
        # runs with an simple repositories dictionary with no path
        args: home-primary
        tmp_files:
            .config/borg-space/settings.nt:
                > repositories:
                >     home-primary:
            .local/share/emborg/home-primary.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home-primary: 4.15 GiB

    watcher:
        # runs with an scalar repositories dictionary with short path
        tmp_files:
            .config/borg-space/settings.nt:
                > default repository: home
                > repositories:
                >     home: home
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    cockerel:
        # runs with an scalar repositories dictionary with short path
        tmp_files:
            .config/borg-space/settings.nt:
                > default repository: home
                > repositories:
                >     home: home-primary
            .local/share/emborg/home-primary.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    divinity:
        # runs with an scalar repositories dictionary with full path
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > default repository: home
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    chariot:
        # runs with an scalar repositories dictionary with partial path
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > default repository: home
                    > repositories:
                    >     home: home@❬HOST❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    beguile:
        # runs with an scalar repositories dictionary with partial path
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > default repository: home
                    > repositories:
                    >     home: home~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home: 4.15 GiB

    shindig:
        # operate on a composite repository, and record
        args: -r all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    jamboree:
        # operate on a composite repository, where repositories are described with dictionaries
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     home:
                    >         config: home
                    >         host: ❬HOST❭
                    >         user: ❬USER❭
                    >     work:
                    >         config: work
                    >         host: ❬HOST❭
                    >         user: ❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    fuzzy:
        # operate on a composite repository, where repositories are described with dictionaries
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     all:
                    >         -
                    >             config: home
                    >             host: ❬HOST❭
                    >             user: ❬USER❭
                    >         -
                    >             config: work
                    >             host: ❬HOST❭
                    >             user: ❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    pleasant:
        # operate on a multiple repositories
        args: home work
        tmp_files:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    comforter:
        # operate on a multiple repositories
        args: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
        tmp_files:
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    drainpipe:
        # operate on a composite repository
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    rattle:
        # operate on a composite repository
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     all:
                    >         - home@❬HOST❭~❬USER❭
                    >         - work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    scoop:
        # operate on a composite repository
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all:
                    >         - home
                    >         - work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    intercom:
        # simple compact report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home@❬HOST❭~❬USER❭: 4.15 GiB
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    brazier:
        # simple compact report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    dismantle:
        # simple compact report style
        args: -s compact all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: table
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB
            > work: 1.83 GiB

    dense:
        # user-defined compact report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > compact format: {name}: {size:{fmt}}.  Last back up: {last_create:ddd, MMM DD}.  Last squeeze: {last_squeeze:ddd, MMM DD}.
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > home: 4.15 GiB.  Last back up: Fri, Jun 02.  Last squeeze: Sat, May 27.
            > work: 1.83 GiB.  Last back up: Sun, Jun 04.  Last squeeze: Sun, Jun 04.

    lemon:
        # simple table report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: table
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > HOST     USER     CONFIG   SIZE      LAST BACK UP
            > ❬HOST❭\s+❬USER❭\s+home     4.15 GiB  Fri, Jun 02
            > ❬HOST❭\s+❬USER❭\s+work     1.83 GiB  Sun, Jun 04

    cupola:
        # simple table report style
        args: -s table all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: tree
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > HOST     USER     CONFIG   SIZE      LAST BACK UP
            > ❬HOST❭\s+❬USER❭\s+home     4.15 GiB  Fri, Jun 02
            > ❬HOST❭\s+❬USER❭\s+work     1.83 GiB  Sun, Jun 04

    child:
        # user-defined table report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: table
                    > table format: {host:<8} {user:<5} {config:<9} {size:<8.2b} {last_create:ddd, MMM DD}
                    > table header: HOST     USER  CONFIG    SIZE     LAST BACK UP
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > HOST     USER  CONFIG    SIZE     LAST BACK UP
            > ❬HOST❭\s+❬USER❭\s+home      4.15 GiB Fri, Jun 02
            > ❬HOST❭\s+❬USER❭\s+work      1.83 GiB Sun, Jun 04

    proponent:
        # simple tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: tree
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭
            > └── ❬USER❭
            >     ├── home: 4.15 GiB
            >     └── work: 1.83 GiB

    sitcom:
        # simple tree report style
        args: -s tree all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: nestedtext
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭
            > └── ❬USER❭
            >     ├── home: 4.15 GiB
            >     └── work: 1.83 GiB

    hubby:
        # user-defined tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: tree
                    > report fields: size last_create last_squeeze
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭
            > └── ❬USER❭
            >     ├── home
            >     │   ├── size: 4.15 GiB
            >     │   ├── last create: 2 June 2023
            >     │   └── last squeeze: 27 May 2023
            >     └── work
            >         ├── size: 1.83 GiB
            >         ├── last create: 4 June 2023
            >         └── last squeeze: 4 June 2023

    usurp:
        # nestedtext report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: nestedtext
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭:
            >     ❬USER❭:
            >         home: 4.15 GiB
            >         work: 1.83 GiB

    corduroy:
        # nestedtext report style
        args: -s nt all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: json
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭:
            >     ❬USER❭:
            >         home: 4.15 GiB
            >         work: 1.83 GiB

    linger:
        # user-defined nestedtext report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: nt
                    > nestedtext report fields: size last_create last_squeeze
                    > size format: .5b
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭:
            >     ❬USER❭:
            >         home:
            >             size: 4.14725 GiB
            >             last create: 2 June 2023
            >             last squeeze: 27 May 2023
            >         work:
            >             size: 1.82508 GiB
            >             last create: 4 June 2023
            >             last squeeze: 4 June 2023

    manor:
        # json tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: json
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > {
            >     "❬HOST❭": {
            >         "❬USER❭": {
            >             "home": {
            >                 "size": 4453074629,
            >                 "last_create": "2023-06-02T10:24:24.658008-07:00",
            >                 "last_prune": "2023-05-27T11:32:21.495540-07:00",
            >                 "last_compact": "2023-05-27T11:32:26.181749-07:00",
            >                 "last_squeeze": "2023-05-27T11:32:26.181749-07:00"
            >             },
            >             "work": {
            >                 "size": 1959665139,
            >                 "last_create": "2023-06-04T07:30:12.324120-07:00",
            >                 "last_prune": "2023-06-04T13:25:28.259886-07:00",
            >                 "last_compact": "2023-06-04T13:25:32.162572-07:00",
            >                 "last_squeeze": "2023-06-04T13:25:32.162572-07:00"
            >             }
            >         }
            >     }
            > }

    marker:
        # json tree report style
        args: -s json all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > {
            >     "❬HOST❭": {
            >         "❬USER❭": {
            >             "home": {
            >                 "size": 4453074629,
            >                 "last_create": "2023-06-02T10:24:24.658008-07:00",
            >                 "last_prune": "2023-05-27T11:32:21.495540-07:00",
            >                 "last_compact": "2023-05-27T11:32:26.181749-07:00",
            >                 "last_squeeze": "2023-05-27T11:32:26.181749-07:00"
            >             },
            >             "work": {
            >                 "size": 1959665139,
            >                 "last_create": "2023-06-04T07:30:12.324120-07:00",
            >                 "last_prune": "2023-06-04T13:25:28.259886-07:00",
            >                 "last_compact": "2023-06-04T13:25:32.162572-07:00",
            >                 "last_squeeze": "2023-06-04T13:25:32.162572-07:00"
            >             }
            >         }
            >     }
            > }

    islander:
        # simple compact report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > bs warning: home@❬HOST❭~❬USER❭, 'size': not available.
            > work@❬HOST❭~❬USER❭: 1.83 GiB

    plummy:
        # user-defined compact report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: compact
                    > compact format: {name}: {size:{fmt}}.  Last back up: {last_create:ddd, MMM DD}.  Last squeeze: {last_squeeze:ddd, MMM DD}.
                    > repositories:
                    >     home: home@❬HOST❭~❬USER❭
                    >     work: work@❬HOST❭~❬USER❭
                    >     all: home work
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
        stdout:
            > home: 4.15 GiB.  Last back up: Fri, Jun 02.  Last squeeze: Sat, May 27.
            > bs warning: work@❬HOST❭~❬USER❭, 'size': not available.

    combat:
        # simple table report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: table
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > HOST     USER     CONFIG   SIZE      LAST BACK UP
            > bs warning: home@❬HOST❭~❬USER❭, 'size': not available.
            > ❬HOST❭\s+❬USER❭\s+work     1.83 GiB  Sun, Jun 04

    envision:
        # user-defined table report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: table
                    > table format: {host:<8} {user:<5} {config:<9} {size:<8.2b} {last_create:ddd, MMM DD}
                    > table header: HOST     USER  CONFIG    SIZE     LAST BACK UP
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
        stdout:
            > HOST     USER  CONFIG    SIZE     LAST BACK UP
            > ❬HOST❭\s+❬USER❭\s+home      4.15 GiB Fri, Jun 02
            > bs warning: work@❬HOST❭~❬USER❭, 'size': not available.

    extend:
        # simple tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: tree
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭
            > └── ❬USER❭
            >     ├── home: ⟪not available⟫
            >     └── work: 1.83 GiB

    contend:
        # user-defined tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: tree
                    > report fields: size last_create last_squeeze
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
        stdout:
            > ❬HOST❭
            > └── ❬USER❭
            >     ├── home
            >     │   ├── size: 4.15 GiB
            >     │   ├── last create: 2 June 2023
            >     │   └── last squeeze: 27 May 2023
            >     └── work
            >         ├── size: ⟪not available⟫
            >         ├── last create: 4 June 2023
            >         └── last squeeze: 4 June 2023

    reformist:
        # nestedtext report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: nestedtext
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > ❬HOST❭:
            >     ❬USER❭:
            >         home: ⟪not available⟫
            >         work: 1.83 GiB

    clampdown:
        # user-defined nestedtext report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: nt
                    > nestedtext report fields: size last_create last_squeeze
                    > size format: .5b
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > prune last run: 2023-06-04T13:25:28.259886-07:00
        stdout:
            > ❬HOST❭:
            >     ❬USER❭:
            >         home:
            >             size: 4.14725 GiB
            >             last create: 2 June 2023
            >             last squeeze: 27 May 2023
            >         work:
            >             size: ⟪not available⟫
            >             last create: 4 June 2023
            >             last squeeze: ⟪not available⟫

    whetstone:
        # json tree report style
        args: all
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > report style: json
                    > repositories:
                    >     all: home@❬HOST❭~❬USER❭ work@❬HOST❭~❬USER❭
            .local/share/emborg/home.latest.nt:
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
            .local/share/emborg/work.latest.nt:
                > create last run: 2023-06-04T07:30:12.324120-07:00
                > compact last run: 2023-06-04T13:25:32.162572-07:00
                > repository size: 1.959665139 GB
        stdout:
            > {
            >     "❬HOST❭": {
            >         "❬USER❭": {
            >             "home": {
            >                 "size": null,
            >                 "last_create": null,
            >                 "last_prune": "2023-05-27T11:32:21.495540-07:00",
            >                 "last_compact": "2023-05-27T11:32:26.181749-07:00",
            >                 "last_squeeze": "2023-05-27T11:32:26.181749-07:00"
            >             },
            >             "work": {
            >                 "size": 1959665139,
            >                 "last_create": "2023-06-04T07:30:12.324120-07:00",
            >                 "last_prune": null,
            >                 "last_compact": "2023-06-04T13:25:32.162572-07:00",
            >                 "last_squeeze": null
            >             }
            >         }
            >     }
            > }

    homily:
        # check all output keys
        tmp_files:
            .config/borg-space/settings.nt:
                type: parametrized
                content:
                    > default repository: home
                    > report style: compact
                    > compact format:
                    >   > {name} {spec} {full_spec}:
                    >   >     {config} {host} {user}:
                    >   >         {size} {fmt}
                    >   >         {last_create}
                    >   >         {last_prune}
                    >   >         {last_compact}
                    >   >         {last_squeeze}
                    > repositories:
                    >     home: home~❬USER❭
            .local/share/emborg/home.latest.nt:
                > create last run: 2023-06-02T10:24:24.658008-07:00
                > prune last run: 2023-05-27T11:32:21.495540-07:00
                > compact last run: 2023-05-27T11:32:26.181749-07:00
                > repository size: 4.453074629 GB
        stdout:
            > home home~❬USER❭ home@❬HOST❭~❬USER❭:
            >     home ❬HOST❭ ❬USER❭:
            >         4.453074629 GB .2b
            >         2023-06-02T10:24:24.658008-07:00
            >         2023-05-27T11:32:21.495540-07:00
            >         2023-05-27T11:32:26.181749-07:00
            >         2023-05-27T11:32:26.181749-07:00

